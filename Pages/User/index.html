<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../assets/Css/styles.css" />
    <link rel="stylesheet" href="../../assets/Css/User/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <title>Frutify</title>
  </head>
  <body class="wrapper">
    <header>
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-navbar">
          <a class="navbar-brand" href="./index.html">
            <img
              src="../../assets/Images/logo.png"
              alt="FrutifyLogo"
              height="24"
            />
          </a>
          <div>
            <a class="nav-link" href="/index.html">Home</a>
            <a class="nav-link" href="/Pages/Shop">Tienda</a>
            <a class="nav-link" href="/Pages/Deals">Ofertas</a>
            <a class="nav-link" href="/Pages/Cart">
              Carrito
              <img
                src="../../assets/Images/cart_icon.png"
                alt="cart"
                width="30"
                height="24"
            /></a>
            <a class="nav-link active" href="/Pages/User/" id="auth-navbar"
              ><p>Login</p>
              <img
                src="../../assets/Images/login.png"
                alt="Login"
                width="30"
                height="24"
            /></a>
          </div>
        </div>
      </nav>
    </header>
    <main id="main-content" class="container">
      <section class="container-user-acont">
        <div class="box">
          <h3 class="user-Profile">User Profile</h3>
          <div class="user-Profile-data">
            <h3>Name</h3>
            <p id="name">Cargando...</p>
          </div>
          <div class="user-Profile-data">
            <h3>Phone number</h3>
            <p id="phone">Cargando...</p>
          </div>
          <div class="user-Profile-data">
            <h3>Email Address</h3>
            <p id="email">Cargando...</p>
          </div>
          <div class="user-Profile-data">
            <h3>Address</h3>
            <p id="address">Cargando...</p>
            <button class="btn-orange" id="open-address-modal">
              update shipping address
            </button>
          </div>
        </div>
        <div class="box">
          <div class="title-order-history">
            <h3 class="order-history">Order History</h3>
          </div>
          <div class="order-history-data-container">
            <div class="conteiner-loader">
              <div class="loader"></div>
            </div>
          </div>
        </div>
      </section>
      <button class="btn-change-password" on>Change Password</button>
      <button class="btn-logout" onclick="logoutUser()">Cerrar Sesión</button>
    </main>
    <footer>
      <p class="footer-legal">
        &copy; 2023 Frutify. Todos los derechos reservados.
      </p>
      <div class="footer-container">
        <div class="footer-contact">
          <img
            src="../../assets//Images/logo.png"
            alt="logo"
            width="150"
            height="50"
          />

          <p>Suscribite para recibir noticias</p>
          <form action="https://example.com/subscribe" method="POST">
            <input
              type="email"
              name="email"
              placeholder="Tu correo electrónico"
              required
            />
            <button type="submit">Suscribirse</button>
          </form>
        </div>
        <div class="footer-links">
          <a href="./index.html">Home</a>
          <a href="./Pages/Shop">Tienda</a>
          <a href="./Pages/Deals">Ofertas</a>
        </div>
        <div class="footer-contact">
          <p>
            <i class="fa-solid fa-envelope"></i>
            hola@mundo.com
          </p>
          <p>
            <i class="fa-solid fa-location-dot"> </i>
            hola mundo, Programacion, Web
          </p>
          <p><i class="fa-solid fa-phone"></i> +549 11-11111111</p>
          <div class="footer-social-media">
            <a
              href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
              target="_blank"
            >
              <i class="fa-brands fa-youtube"></i>
            </a>
            <a href="https://www.facebook.com " target="_blank">
              <i class="fa-brands fa-facebook"></i>
            </a>
            <a href="https://www.twitter.com" target="_blank">
              <i class="fa-brands fa-x-twitter"></i>
            </a>
            <a href="https://www.instagram.com" target="_blank">
              <i class="fa-brands fa-instagram"></i>
            </a>
          </div>
        </div>
      </div>
    </footer>
    <script type="module" src="../../assets/js/pages/user.js"></script>
    <script type="module">
      import { initAuth, logoutUser } from "../../assets/js/utils/auth.js";
      document.addEventListener("DOMContentLoaded", initAuth);
      // Make logoutUser available globally
      window.logoutUser = logoutUser;
    </script>
    <!-- Modal for updating address -->
    <div id="address-modal" class="modal" style="display: none">
      <div class="modal-content">
        <h2>Actualizar Direccion</h2>
        <form id="address-form">
          <input type="text" id="new-address" name="new-address" required />
          <div class="modal-actions">
            <button
              style="
                font-size: medium;
                width: 50%;
                border-width: 0;
                padding: 8px;
                border-radius: 8px;
                cursor: pointer;
                background-color: #fff;
              "
              type="button"
              id="cancel-address-modal"
            >
              Cancel
            </button>
            <button
              style="
                font-size: medium;
                width: 50%;
                border-width: 0;
                padding: 8px;
                border-radius: 8px;
                background-color: #f6e2ab;
                cursor: pointer;
              "
              type="submit"
              id="save-address-modal"
            >
              Save
            </button>
          </div>
        </form>
        <div
          id="address-message"
          style="text-align: center; margin-top: 10px"
        ></div>
      </div>
    </div>
    <!-- End Modal -->
  </body>
</html>
